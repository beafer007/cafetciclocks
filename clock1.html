<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Clocks Page 1</title>

<style>
body{
  margin:0;
  background:#06090f;
  color:white;
  font-family: system-ui, Arial, sans-serif;
}

.grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  height:100vh;
}

.card{
  position:relative;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  gap:10px;
}

.card::before{
  content:"";
  position:absolute;
  left:0;top:0;bottom:0;
  width:8px;
  background:var(--accent);
}

.city{
  font-size:28px;
  font-weight:800;
  color:var(--accent);
}

.time{
  font-size:84px;
  font-weight:900;
}

.date{
  opacity:.8;
}

.weather{
  font-size:22px;
  opacity:.9;
}
</style>
</head>

<body>
<div class="grid">

<div class="card" style="--accent:#ff6b6b">
  <div class="city">Miami</div>
  <div class="time" data-tz="America/New_York"></div>
  <div class="date" data-date="America/New_York"></div>
  <div class="weather" data-wx="25.7617,-80.1918"></div>
</div>

<div class="card" style="--accent:#6bc7ff">
  <div class="city">London</div>
  <div class="time" data-tz="Europe/London"></div>
  <div class="date" data-date="Europe/London"></div>
  <div class="weather" data-wx="51.5072,-0.1276"></div>
</div>

<div class="card" style="--accent:#ffc46b">
  <div class="city">Dubai</div>
  <div class="time" data-tz="Asia/Dubai"></div>
  <div class="date" data-date="Asia/Dubai"></div>
  <div class="weather" data-wx="25.2048,55.2708"></div>
</div>

</div>

<script>
function updateTime(){
  document.querySelectorAll("[data-tz]").forEach(el=>{
    el.textContent = new Intl.DateTimeFormat("en-US",{
      timeZone:el.dataset.tz,
      hour:"2-digit",minute:"2-digit"
    }).format(new Date());
  });

  document.querySelectorAll("[data-date]").forEach(el=>{
    el.textContent = new Intl.DateTimeFormat("en-US",{
      timeZone:el.dataset.date,
      weekday:"short",month:"short",day:"numeric"
    }).format(new Date());
  });
}
setInterval(updateTime,1000);
updateTime();

async function loadWeather(){
  document.querySelectorAll("[data-wx]").forEach(async el=>{
    const [lat,lon]=el.dataset.wx.split(",");
    const r=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&daily=temperature_2m_max,temperature_2m_min&timezone=auto`);
    const d=await r.json();
    el.textContent=`${Math.round(d.daily.temperature_2m_max[0])}°C / Tomorrow ${Math.round(d.daily.temperature_2m_max[1])}°C`;
  });
}
loadWeather();
</script>
</body>
</html>
