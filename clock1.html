<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
<meta http-equiv="refresh" content="21600">
<title>Clocks - Page 1</title>

<style>
:root{
  --bg0:#070a0f;
  --bg1:#0a1220;
  --text: rgba(255,255,255,0.92);

  --pad: clamp(14px, 2vw, 28px);
  --radius: 26px;

  --city: clamp(22px, 2.4vw, 42px);
  --tz: clamp(16px, 1.7vw, 26px);

  --time: clamp(84px, 7.4vw, 150px);
  --time24: clamp(18px, 1.9vw, 30px);
  --date: clamp(20px, 1.9vw, 34px);

  /* ‚¨ÜÔ∏è slightly bigger weather */
  --wx: clamp(18px, 1.7vw, 30px);
}

*{ box-sizing:border-box; }
html,body{ height:100%; margin:0; }

body{
  background:
    radial-gradient(900px 600px at 18% 10%, rgba(120,170,255,0.14), transparent 55%),
    radial-gradient(900px 600px at 85% 85%, rgba(255,120,210,0.10), transparent 55%),
    linear-gradient(160deg, var(--bg0), var(--bg1));
  color: var(--text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  overflow:hidden;
}

.wrap{
  height:100%;
  padding: var(--pad);
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: var(--pad);
}

.card{
  position:relative;
  border-radius: var(--radius);
  overflow:hidden;
  padding: var(--pad);
  background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.03));
  border: 1px solid rgba(255,255,255,0.12);
  box-shadow: 0 18px 44px rgba(0,0,0,0.48);
}

.card::before{
  content:"";
  position:absolute;
  inset:0;
  background: var(--flag);
  opacity: 0.78;
  mix-blend-mode: soft-light;
  filter: saturate(1.35) contrast(1.1);
}

.card::after{
  content:"";
  position:absolute;
  inset:0;
  background: radial-gradient(900px 600px at 50% 45%, rgba(0,0,0,0.10), rgba(0,0,0,0.60));
}

.top{
  position:relative;
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  z-index:2;
}

.city{
  font-size: var(--city);
  font-weight: 950;
}

.pill{
  padding: 8px 12px;
  border-radius: 999px;
  background: rgba(0,0,0,0.25);
  border: 1px solid rgba(255,255,255,0.12);
  font-size: var(--tz);
  font-weight: 900;
}

.center{
  position:relative;
  z-index:2;
  height: calc(100% - 70px);
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
}

.time{
  font-size: var(--time);
  font-weight: 1000;
  line-height:1;
}

.time24{
  font-size: var(--time24);
  letter-spacing: 3px;
  opacity:0.85;
}

.date{
  font-size: var(--date);
  font-weight: 950;
  margin-top: 6px;
}

.wx{
  font-size: var(--wx);
  font-weight: 900;
  margin-top: 10px; /* üëà moved down */
  line-height:1.35;
}
.wx small{
  opacity:0.8;
  font-weight:850;
}
</style>
</head>

<body>
<main class="wrap" id="wrap"></main>

<script>
const CITIES=[
  {label:"Miami",tz:"America/New_York",flag:"üá∫üá∏",lat:25.7617,lon:-80.1918,colors:["#b22234","#ffffff","#3c3b6e"]},
  {label:"London",tz:"Europe/London",flag:"üá¨üáß",lat:51.5072,lon:-0.1276,colors:["#012169","#ffffff","#c8102e"]},
  {label:"Dubai",tz:"Asia/Dubai",flag:"üá¶üá™",lat:25.2048,lon:55.2708,colors:["#00732f","#ffffff","#000","#ff0000"]}
];

function flagGradient(c){
  const n=c.length;
  return `linear-gradient(90deg, ${c.map((x,i)=>`${x} ${i*100/n}%, ${x} ${(i+1)*100/n}%`).join(",")})`;
}

function fmt12(tz){return new Intl.DateTimeFormat("en-US",{timeZone:tz,hour:"2-digit",minute:"2-digit",hour12:true}).format(new Date());}
function fmt24(tz){return new Intl.DateTimeFormat("en-US",{timeZone:tz,hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:false}).format(new Date());}
function fmtDate(tz){return new Intl.DateTimeFormat("en-US",{timeZone:tz,weekday:"short",month:"short",day:"2-digit"}).format(new Date());}

async function weather(lat,lon){
  const r=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,weather_code&daily=temperature_2m_max,temperature_2m_min&temperature_unit=fahrenheit&timezone=auto`);
  const d=await r.json();
  return {
    nowF:Math.round(d.current.temperature_2m),
    hiF:Math.round(d.daily.temperature_2m_max[1]),
    loF:Math.round(d.daily.temperature_2m_min[1])
  };
}

const wrap=document.getElementById("wrap");

async function build(){
  wrap.innerHTML="";
  for(const c of CITIES){
    const w=await weather(c.lat,c.lon);
    const nowC=Math.round((w.nowF-32)*5/9);
    const hiC=Math.round((w.hiF-32)*5/9);
    const loC=Math.round((w.loF-32)*5/9);

    const card=document.createElement("section");
    card.className="card";
    card.style.setProperty("--flag",flagGradient(c.colors));

    card.innerHTML=`
      <div class="top">
        <div class="city">${c.flag} ${c.label}</div>
        <div class="pill">${c.tz.split("/")[1]}</div>
      </div>
      <div class="center">
        <div class="time" data-tz="${c.tz}"></div>
        <div class="time24" data-tz24="${c.tz}"></div>
        <div class="date" data-date="${c.tz}"></div>
        <div class="wx">${w.nowF}¬∞F / ${nowC}¬∞C ‚Ä¢ Tomorrow ${w.hiF}/${w.loF}¬∞F (${hiC}/${loC}¬∞C)</div>
      </div>`;
    wrap.appendChild(card);
  }
}

function tick(){
  document.querySelectorAll("[data-tz]").forEach(e=>e.textContent=fmt12(e.dataset.tz));
  document.querySelectorAll("[data-tz24]").forEach(e=>e.textContent=fmt24(e.dataset.tz24));
  document.querySelectorAll("[data-date]").forEach(e=>e.textContent=fmtDate(e.dataset.date));
}

build();
tick();
setInterval(tick,1000);
</script>
</body>
</html>
